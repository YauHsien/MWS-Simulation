create table Throttling (
    ApiTypeId tinyint not null,
    /*
        1 Easy Ship - Version 2018-09-01
        2 Feeds - Version 2009-01-01
        3 Finances - Version 2015-05-01
        4 Fulfillment Inbound Shipment - Version 2010-10-01
        5 Fulfillment Inventory - Version 2010-10-01
        6 Fulfillment Outbound Shipment - Version 2010-10-01
        7 Merchant Fulfillment - Version 2015-06-01
        8 Orders - Version 2013-09-01
        9 Products - Version 2011-10-01
        10 Recommendations - Version 2013-04-01
        11 Reports - Version 2009-01-01
        12 Sellers - Version 2011-07-01
        13 Shipment Invoicing - Version 2018-11-01
        14 Subscriptions - Version 2013-07-01
    */
    Operation varchar(128) not null,
    ReportType varchar(128) null,
    MaximumRequestQuota int not null,
    RestoreAmount int not null,
    RestoreWaitingTimeInSeconds int not null,
    HourlyRequestQuota int null
);
create unique nonclustered index ix_throttling_u on Throttling (ApiTypeId, Operation, ReportType);
insert into Throttling (ApiTypeId, Operation, ReportType, MaximumRequestQuota, RestoreAmount, RestoreWaitingTimeInSeconds, HourlyRequestQuota) values
(11, 'GetReport', '_GET_FLAT_FILE_OPEN_LISTINGS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_MERCHANT_LISTINGS_ALL_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_MERCHANT_LISTINGS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_MERCHANT_LISTINGS_INACTIVE_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_MERCHANT_LISTINGS_DATA_BACK_COMPAT_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_MERCHANT_LISTINGS_DATA_LITE_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_MERCHANT_LISTINGS_DATA_LITER_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_MERCHANT_CANCELLED_LISTINGS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_CONVERGED_FLAT_FILE_SOLD_LISTINGS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_MERCHANT_LISTINGS_DEFECT_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_PAN_EU_OFFER_STATUS_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_MFN_PAN_EU_OFFER_STATUS_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FLAT_FILE_GEO_OPPORTUNITIES_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_REFERRAL_FEE_PREVIEW_REPORT_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FLAT_FILE_ACTIONABLE_ORDER_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_ORDERS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FLAT_FILE_ORDERS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_CONVERGED_FLAT_FILE_ORDER_REPORT_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FLAT_FILE_ALL_ORDERS_DATA_BY_LAST_UPDATE_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FLAT_FILE_ALL_ORDERS_DATA_BY_ORDER_DATE_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FLAT_FILE_ARCHIVED_ORDERS_DATA_BY_ORDER_DATE_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_XML_ALL_ORDERS_DATA_BY_LAST_UPDATE_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_XML_ALL_ORDERS_DATA_BY_ORDER_DATE_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FLAT_FILE_PENDING_ORDERS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_PENDING_ORDERS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_CONVERGED_FLAT_FILE_PENDING_ORDERS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_XML_RETURNS_DATA_BY_RETURN_DATE_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FLAT_FILE_RETURNS_DATA_BY_RETURN_DATE_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_XML_MFN_PRIME_RETURNS_REPORT_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_CSV_MFN_PRIME_RETURNS_REPORT_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_XML_MFN_SKU_RETURN_ATTRIBUTES_REPORT_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FLAT_FILE_MFN_SKU_RETURN_ATTRIBUTES_REPORT_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_SELLER_FEEDBACK_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_V1_SELLER_PERFORMANCE_REPORT_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_V2_SETTLEMENT_REPORT_DATA_FLAT_FILE_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_V2_SETTLEMENT_REPORT_DATA_XML_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_V2_SETTLEMENT_REPORT_DATA_FLAT_FILE_V2_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_AMAZON_FULFILLED_SHIPMENTS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_CUSTOMER_SHIPMENT_SALES_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_CUSTOMER_SHIPMENT_PROMOTION_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_CUSTOMER_TAXES_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_REMOTE_FULFILLMENT_ELIGIBILITY_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_AFN_INVENTORY_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_AFN_INVENTORY_DATA_BY_COUNTRY_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_CURRENT_INVENTORY_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_MONTHLY_INVENTORY_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_INVENTORY_RECEIPTS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_RESERVED_INVENTORY_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_INVENTORY_SUMMARY_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_INVENTORY_ADJUSTMENTS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_INVENTORY_HEALTH_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_MYI_UNSUPPRESSED_INVENTORY_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_MYI_ALL_INVENTORY_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_RESTOCK_INVENTORY_RECOMMENDATIONS_REPORT_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_INBOUND_NONCOMPLIANCE_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_STRANDED_INVENTORY_UI_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_STRANDED_INVENTORY_LOADER_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_INVENTORY_AGED_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_EXCESS_INVENTORY_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_STORAGE_FEE_CHARGES_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_PRODUCT_EXCHANGE_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_ESTIMATED_FBA_FEES_TXT_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_REIMBURSEMENTS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_LONGTERM_STORAGE_FEE_CHARGES_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_CUSTOMER_RETURNS_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_CUSTOMER_SHIPMENT_REPLACEMENT_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_RECOMMENDED_REMOVAL_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_REMOVAL_ORDER_DETAIL_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_FULFILLMENT_REMOVAL_SHIPMENT_DETAIL_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FBA_UNO_INVENTORY_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FLAT_FILE_SALES_TAX_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_SC_VAT_TAX_REPORT_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_VAT_TRANSACTION_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_GST_MTR_B2B_CUSTOM_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_GST_MTR_B2C_CUSTOM_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_XML_BROWSE_TREE_DATA_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_EASYSHIP_DOCUMENTS_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_EASYSHIP_PICKEDUP_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_EASYSHIP_WAITING_FOR_PICKUP_', 15, 1, 60, 60),
(11, 'GetReport', '_RFQD_BULK_DOWNLOAD_', 15, 1, 60, 60),
(11, 'GetReport', '_FEE_DISCOUNTS_REPORT_', 15, 1, 60, 60),
(11, 'GetReport', '_GET_FLAT_FILE_OFFAMAZONPAYMENTS_SANDBOX_SETTLEMENT_DATA_', 15, 1, 60, 60);
insert into Throttling (ApiTypeId, Operation, MaximumRequestQuota, RestoreAmount, RestoreWaitingTimeInSeconds, HourlyRequestQuota) values
(1, 'ListPickupSlots', 15, 15, 60, null),
(1, 'CreateScheduledPackage', 15, 15, 60, null),
(1, 'UpdateScheduledPackages', 10, 15, 60, null),
(1, 'GetScheduledPackage', 15, 15, 60, null),
(1, 'GetServiceStatus', 2, 1, 5*60, null),
(2, 'SubmitFeed', 15, 1, 2*60, 30),
(2, 'GetFeedSubmissionList', 10, 1, 45, 80),
(2, 'GetFeedSubmissionListByNextToken', 30, 1, 2, 1800),
(2, 'GetFeedSubmissionCount', 10, 1, 45, 80),
(2, 'CancelFeedSubmissions', 10, 1, 45, 80),
(2, 'GetFeedSubmissionResult', 15, 1, 60, 60),
(3, 'ListFinancialEventGroups', 30, 1, 2, 1800),
(3, 'ListFinancialEventGroupsByNextToken', 30, 1, 2, 1800),
(3, 'ListFinancialEvents', 30, 1, 2, 1800),
(3, 'ListFinancialEventsByNextToken', 30, 1, 2, 1800),
(3, 'GetServiceStatus', 2, 1, 5*60, null),
(4, 'GetInboundGuidanceForSKU', 200, 200, 1, 500),
(4, 'GetInboundGuidanceForASIN', 200, 200, 1, 500),
(4, 'CreateInboundShipmentPlan', 30, 2, 1, null),
(4, 'CreateInboundShipment', 30, 2, 1, null),
(4, 'UpdateInboundShipment', 30, 2, 1, null),
(4, 'GetPreorderInfo', 30, 2, 1, null),
(4, 'ConfirmPreorder', 30, 2, 1, null),
(4, 'GetPrepInstructionsForSKU', 30, 2, 1, null),
(4, 'GetPrepInstructionsForASIN', 30, 2, 1, null),
(4, 'PutTransportContent', 30, 2, 1, null),
(4, 'EstimateTransportRequest', 30, 2, 1, null),
(4, 'GetTransportContent', 30, 2, 1, null),
(4, 'ConfirmTransportRequest', 30, 2, 1, null),
(4, 'VoidTransportRequest', 30, 2, 1, null),
(4, 'GetPackageLabels', 30, 2, 1, null),
(4, 'GetUniquePackageLabels', 30, 2, 1, null),
(4, 'GetPalletLabels', 30, 2, 1, null),
(4, 'GetBillOfLading', 30, 2, 1, null),
(4, 'ListInboundShipments', 30, 2, 1, null),
(4, 'ListInboundShipmentsByNextToken', 30, 2, 1, null),
(4, 'ListInboundShipmentItems', 30, 2, 1, null),
(4, 'ListInboundShipmentItemsByNextToken', 30, 2, 1, null),
(4, 'GetServiceStatus', 2, 1, 5*60, null),
(5, 'ListInventorySupply', 30, 2, 1, null),
(5, 'ListInventorySupplyByNextToken', 30, 2, 1, null),
(6, 'GetFulfillmentPreview', 30, 2, 1, null),
(6, 'CreateFulfillmentOrder', 30, 2, 1, null),
(6, 'UpdateFulfillmentOrder', 30, 2, 1, null),
(6, 'ListAllFulfillmentOrders', 30, 2, 1, null),
(6, 'GetFulfillmentOrder', 30, 2, 1, null),
(6, 'ListAllFulfillmentOrdersByNextToken', 30, 2, 1, null),
(6, 'GetPackageTrackingDetails', 30, 2, 1, null),
(6, 'CancelFulfillmentOrder', 30, 2, 1, null),
(6, 'ListReturnReasonCodes', 30, 2, 1, null),
(6, 'CreateFulfillmentReturn', 30, 2, 1, null),
(6, 'GetServiceStatus', 2, 1, 5*60, null),
(7, 'GetEligibleShippingServices', 10, 5, 1, null),
(7, 'GetAdditionalSellerInputs', 10, 5, 1, null),
(7, 'CreateShipment', 10, 5, 1, null),
(7, 'GetShipment', 10, 5, 1, null),
(7, 'CancelShipment', 10, 5, 1, null),
(7, 'GetServiceStatus', 2, 1, 5*60, null),
(8, 'ListOrders', 6, 1, 60, null),
(8, 'ListOrdersByNextToken', 6, 1, 60, null),
(8, 'GetOrder', 6, 1, 60, null),
(8, 'ListOrderItems', 30, 1, 2, null),
(8, 'ListOrderItemsByNextToken', 30, 1, 2, null),
(8, 'GetServiceStatus', 2, 1, 5*60, null),
(9, 'ListMatchingProducts', 20, 1, 5*60, 720),
(9, 'GetMatchingProduct', 20, 2, 1, 7200),
(9, 'GetMatchingProductForId', 20, 5, 2, 18000),
(9, 'GetCompetitivePricingForSKU', 20, 10, 1, 36000),
(9, 'GetCompetitivePricingForASIN', 20, 10, 1, 36000),
(9, 'GetLowestOfferListingsForSKU', 20, 10, 1, 36000),
(9, 'GetLowestOfferListingsForASIN', 20, 10, 1, 36000),
(9, 'GetLowestPricedOffersForSKU', 10, 5, 1, 200),
(9, 'GetLowestPricedOffersForASIN', 10, 5, 1, 200),
(9, 'GetMyFeesEstimate', 20, 10, 1, 36000),
(9, 'GetMyPriceForSKU', 20, 10, 1, 36000),
(9, 'GetMyPriceForASIN', 20, 10, 1, 36000),
(9, 'GetProductCategoriesForSKU', 20, 1, 5, 720),
(9, 'GetProductCategoriesForASIN', 20, 1, 5, 720),
(9, 'GetServiceStatus', 2, 1, 5*60, null),
(10, 'GetLastUpdatedTimeForRecommendations', 8, 1, 2, null),
(10, 'ListRecommendations', 8, 1, 2, null),
(10, 'ListRecommendationsByNextToken', 8, 1, 2, null),
(10, 'GetServiceStatus', 2, 1, 5*60, null),
(11, 'RequestReport', 15, 1, 60, 60),
(11, 'GetReportRequestList', 10, 1, 45, 80),
(11, 'GetReportRequestListByNextToken', 30, 1, 2, 1800),
(11, 'GetReportRequestCount', 10, 1, 45, 80),
(11, 'CancelReportRequests', 10, 1, 45, 80),
(11, 'GetReportList', 10, 1, 60, 60),
(11, 'GetReportListByNextToken', 30, 1, 2, 1800),
(11, 'GetReportCount', 10, 1, 45, 80),
(11, 'ManageReportSchedule', 10, 1, 45, 80),
(11, 'GetReportScheduleList', 10, 1, 45, 80),
(11, 'GetReportScheduleCount', 10, 1, 45, 80),
(11, 'UpdateReportAcknowledgements', 10, 1, 45, 80),
(12, 'ListMarketplaceParticipations', 15, 1, 60, null),
(12, 'ListMarketplaceParticipationsByNextToken', 15, 1, 60, null),
(12, 'GetServiceStatus', 2, 1, 5*60, null),
(13, 'GetFBAOutboundShipmentDetail', 25, 340, 5*60, null),
(13, 'SubmitFBAOutboundShipmentInvoice', 25, 340, 5*60, null),
(13, 'GetFBAOutboundShipmentInvoiceStatus', 25, 340, 5*60, null),
(13, 'GetServiceStatus', 2, 1, 5*60, null),
(14, 'RegisterDestination', 25, 2, 1, 7200),
(14, 'DeregisterDestination', 25, 2, 1, 7200),
(14, 'ListRegisteredDestinations', 25, 2, 1, 7200),
(14, 'SendTestNotificationToDestination', 25, 2, 1, 7200),
(14, 'CreateSubscription', 25, 2, 1, 7200),
(14, 'GetSubscription', 25, 2, 1, 7200),
(14, 'DeleteSubscription', 25, 2, 1, 7200),
(14, 'ListSubscriptions', 25, 2, 1, 7200),
(14, 'UpdateSubscription', 25, 2, 1, 7200),
(14, 'GetServiceStatus', 2, 1, 5*60, null);
